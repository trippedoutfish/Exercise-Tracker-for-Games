@inject WorkOutItemDatabase database

<Microsoft.MobileBlazorBindings.Elements.Shell OnNavigated="OnNavigated"
       OnNavigating="OnNavigating"
       FlyoutHeaderBehavior="FlyoutHeaderBehavior.CollapseOnScroll">
    <FlyoutHeader>
        <TrackerFlyoutHeader />
    </FlyoutHeader>

    <ChildContent>
        <Microsoft.MobileBlazorBindings.Elements.FlyoutItem Route="items"
                                                            Title="Items"
                                                            FlyoutDisplayOptions="FlyoutDisplayOptions.AsMultipleItems">
            <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="exercisesLeft"
                                                                  Title="Exercises Left"
                                                                  Icon="@(new FileImageSource { File="info.png" })" OnAppearing="RefreshItems">
                <ExercisesLeft database="@database" />
            </Microsoft.MobileBlazorBindings.Elements.ShellContent>
            <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="addApexExercises"
                                                                  Title="Add Apex Exercises"
                                                                  Icon="@(new FileImageSource { File="info.png" })">
                <AddApexExercises database="@database" />
            </Microsoft.MobileBlazorBindings.Elements.ShellContent>
            <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="addDotaExercises"
                                                                  Title="Add Dota Exercises"
                                                                  Icon="@(new FileImageSource { File="info.png" })">
                <AddDotaExercises database="@database" />
            </Microsoft.MobileBlazorBindings.Elements.ShellContent>
        </Microsoft.MobileBlazorBindings.Elements.FlyoutItem>

        <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="exercisesLeft"
                                                              Title="Exercises Left"
                                                              Icon="@(new FileImageSource { File="info.png" })" OnAppearing="RefreshItems">
            <ExercisesLeft database="@database" />
        </Microsoft.MobileBlazorBindings.Elements.ShellContent>
        <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="exercisesAll"
                                                              Title="Exercises All"
                                                              Icon="@(new FileImageSource { File="info.png" })">
            <ExercisesAll database="@database" />
        </Microsoft.MobileBlazorBindings.Elements.ShellContent>
        <Microsoft.MobileBlazorBindings.Elements.ShellContent Route="exerciseStats"
                                                              Title="Exercise Stats"
                                                              Icon="@(new FileImageSource { File="info.png" })">
            <ExerciseStats database="@database" />
        </Microsoft.MobileBlazorBindings.Elements.ShellContent>
    </ChildContent>
</Microsoft.MobileBlazorBindings.Elements.Shell>
@code
{
    protected override Task OnInitializedAsync()
    {
        database.RefreshItems();
        return base.OnInitializedAsync();
    }

    void RefreshItems()
    {
        //database.Navigated();
    }

    void OnNavigated(ShellNavigatedEventArgs e)
    {

    }

    void OnNavigating(ShellNavigatingEventArgs e)
    {
        database.RefreshItems();
    }
}